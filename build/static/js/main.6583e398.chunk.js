(this.webpackJsonpcollab=this.webpackJsonpcollab||[]).push([[0],{356:function(e,t,s){},357:function(e,t,s){},421:function(e,t,s){},422:function(e,t,s){},717:function(e,t,s){},736:function(e,t,s){},740:function(e,t,s){},757:function(e,t,s){},793:function(e,t,s){},794:function(e,t,s){},795:function(e,t,s){},796:function(e,t,s){},797:function(e,t,s){},806:function(e,t,s){},825:function(e,t,s){"use strict";s.r(t);var n,i,r,o,c,a,l,u,h,d,j=s(0),p=s.n(j),b=s(27),f=s.n(b),g=(s(421),s(90)),m=(s.p,s(422),s(86),s(31)),O=s(15),x=s(30),v=s(8),y=s(12),w=s(14),C=s(18),q=s(19),S=s(851),k=s(828),R=s(1),N=function(e){return Object(R.jsx)(p.a.Fragment,{children:Object(R.jsxs)(S.a,{children:[Object(R.jsx)(S.a.Field,{children:Object(R.jsx)("input",{onChange:function(t){return e.onChange(t)},placeholder:"Project Description.."})}),e.button&&!0===e.button&&"project"===e.searchBy?Object(R.jsx)(k.a,{onClick:function(){return e.searchSimilarProject()},type:"submit",children:"Search Similar Project"}):"",e.button&&!0===e.button&&"people"===e.searchBy?Object(R.jsx)(k.a,{onClick:function(){return e.searchSimilarProject()},type:"submit",children:"Search people with similar projects"}):""]})})},T=(s(194),s(356),s(23)),P=s(32),U=s(26),A=s(102),B=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(){return Object(v.a)(this,s),t.apply(this,arguments)}return Object(y.a)(s,[{key:"renderOnCondition",value:function(){var e=this;return console.log(this.props.project),"Already Joined"===this.props.status?Object(R.jsx)(U.a,{onClick:function(){e.props.withdraw(e.props.project)},children:"Withdraw from Project"}):"Request Sent"===this.props.status?Object(R.jsx)(U.a,{onClick:function(){e.props.cancelRequest(e.props.project)},children:"Cancel Request"}):this.props.project.allowRequest?Object(R.jsxs)(U.a,{style:{borderRadius:"20px",float:"right",backgroundColor:"orange"},onClick:function(){e.props.sendJoinRequest(e.props.project)},children:["Join Project ",Object(R.jsx)(A.b,{style:{margin:"3px"}})]}):void 0}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{children:Object(R.jsxs)("div",{style:{margin:"5px 5px 5px 5px"},contenteditable:"true",className:"react-list-select--item center",children:[console.log(this.props.project.tags),Object(R.jsx)(P.a,{style:{width:"45rem"},children:Object(R.jsxs)(P.a.Body,{children:[Object(R.jsx)(P.a.Title,{style:{color:"blue"},children:Object(R.jsx)(T.b,{className:"project-title",to:"/projects/".concat(this.props.project.name),children:Object(R.jsx)("h2",{children:this.props.project.name})})}),Object(R.jsx)(P.a.Text,{children:this.props.project.detail}),Object(R.jsx)("div",{class:"rowC",children:this.props.project.tags&&this.props.project.tags.map((function(t){return Object(R.jsx)("div",{right:"true",children:Object(R.jsx)("p",{onClick:function(){return e.props.putTag(t.name)},className:"tag",children:t.name})})}))}),Object(R.jsx)("div",{class:"rowC",style:{float:"right"},children:Object(R.jsx)("div",{children:this.renderOnCondition()})})]})})]})})}}]),s}(j.Component),D=s(2),I=s.n(D),F=s(4),E=s(82),M=s(83),J=(M.a.nav(n||(n=Object(E.a)(["\nbackground: black;\nheight: 70px;\ndisplay: flex;\njustify-content: space-between;\npadding: 0.2rem calc((100vw - 1000px) / 2);\nz-index: 12;\n/* Third Nav */\n/* justify-content: flex-start; */\n"]))),M.a.nav(i||(i=Object(E.a)(["\nbackground: black;\nheight: 80px;\ndisplay: flex;\njustify-content: space-between;\npadding: 0.2rem calc((100vw - 1000px) / 2);\nz-index: 12;\n/* Third Nav */\n/* justify-content: flex-start; */\n"])))),L=M.a.nav(r||(r=Object(E.a)(["\nbackground: white;\ncolor: black;\nborder-color: #808080;\nborder-style: solid;\nborder-width: thin;\nheight: 66px;\ndisplay: flex;\njustify-content: space-between;\npadding: 0.2rem calc((100vw - 1000px) / 2);\nz-index: 12;\n/* Third Nav */\n/* justify-content: flex-start; */\n"]))),V=(Object(M.a)(T.c)(o||(o=Object(E.a)(["\ncolor: white;\nfont-size: medium;\nborder-color: #808080;\ndisplay: flex;\nalign-items: center;\ntext-decoration: none;\npadding: 0 1rem;\ncursor: pointer;\n&.active {\n\tcolor: white;\n\tborder-bottom: 3px solid orange\n}\n"]))),Object(M.a)(T.c)(c||(c=Object(E.a)(["\ncolor: white;\nfont-size: medium;\nborder-color: #808080;\ndisplay: flex;\nalign-items: center;\ntext-decoration: none;\npadding: 0 1rem;\nheight: 100%;\ncursor: pointer;\n&.active {\n\tcolor: white;\n\tborder-bottom: 3px solid orange\n}\n&:hover{\n\tbackground: grey;\n\tborder-radius: 10px;\n\tpadding: 5px;\n}\n"])))),W=Object(M.a)(T.b)(a||(a=Object(E.a)(["\ncolor: white;\nfont-size: medium;\nborder-color: orange;\ndisplay: flex;\nalign-items: center;\ntext-decoration: none;\npadding: 0 1rem;\nheight: 100%;\ncursor: pointer;\n&:active {\n\tcolor: white;\n\tborder-bottom: 5px solid orange\n}\n&:hover{\n\tbackground: grey;\n\tborder-radius: 10px\n}\n"]))),H=Object(M.a)(A.a)(l||(l=Object(E.a)(["\ndisplay: none;\ncolor: #808080;\n@media screen and (max-width: 768px) {\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\ttransform: translate(-100%, 75%);\n\tfont-size: 1.8rem;\n\tcursor: pointer;\n}\n"]))),z=M.a.div(u||(u=Object(E.a)(["\ndisplay: flex;\nalign-items: center;\nmargin-right: -24px;\n/* Second Nav */\n/* margin-right: 24px; */\n/* Third Nav */\n/* width: 100vw;\nwhite-space: nowrap; */\n@media screen and (max-width: 768px) {\n\tdisplay: none;\n}\n"]))),_=M.a.nav(h||(h=Object(E.a)(["\ndisplay: flex;\nalign-items: center;\nmargin-right: 24px;\n/* Third Nav */\n/* justify-content: flex-end;\nwidth: 100vw; */\n@media screen and (max-width: 768px) {\n\tdisplay: none;\n}\n"]))),G=Object(M.a)(T.c)(d||(d=Object(E.a)(["\nborder-radius: 4px;\nbackground: #808080;\npadding: 10px 22px;\ncolor: #000000;\noutline: none;\nborder: none;\ncursor: pointer;\ntransition: all 0.2s ease-in-out;\ntext-decoration: none;\n/* Second Nav */\nmargin-left: 24px;\n&:hover {\n\ttransition: all 0.2s ease-in-out;\n\tbackground: #fff;\n\tcolor: #808080;\n}\n"]))),Y=(s(357),s(824)),K=s(395),X=s.n(K),Q=function(e){var t,s,n=Object(m.f)(),i=Object(j.useState)(0),r=Object(O.a)(i,2),o=r[0],c=r[1],a=Object(j.useState)(0),l=Object(O.a)(a,2),u=l[0],h=l[1];Object(j.useEffect)((function(){fetch("http://127.0.0.1:8000/user/"+d.name).then((function(e){return e.json()})).then((function(e){c(e[0].seenNotifications)}))}),[]),Object(j.useEffect)((function(){fetch("http://127.0.0.1:8000/user/"+d.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({seenNotifications:o})}).then((function(e){return e.json()})),console.log(o)}),[o]);var d={projects:[{name:"collab",detail:"Application for collaborating on projects"}],name:"arpit",description:"MLEng",requests:[{user:"abc",project:"def"}]};localStorage.setItem("requests",e.totalRequests-u);var b=function(){e.notifications?c(e.notifications.length):localStorage.setItem("requests",0)},f=function(e){var t,s,n="";if(null===(t=e.message)||void 0===t?void 0:t.includes("join")){var i=e.message.substring(0,e.message.indexOf("wants")-1),r=e.message.substring(e.message.indexOf("wants"));n=Object(R.jsxs)(Y.a.Item,{children:[Object(R.jsx)(V,{to:"/user/"+i,children:i}),r]})}if(null===(s=e.message)||void 0===s?void 0:s.includes("project")){r=n.substring(0,e.message.indexOf("project")+"project".length-1);var o=n.substring(e.message.indexOf("project")+"project".length);return Object(R.jsxs)(Y.a.Item,{children:[r,Object(R.jsx)(V,{to:"/user/"+i,children:o})]})}return""!==n?n:Object(R.jsx)(Y.a.Item,{children:e.message})};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(J,{children:[Object(R.jsx)(H,{}),Object(R.jsxs)(z,{children:[Object(R.jsx)("div",{children:e.notification&&!0===e.notification?Object(R.jsxs)("div",{class:"rowC",style:{display:"flex"},children:[Object(R.jsxs)(Y.a,{text:"Notifications",children:[Object(R.jsx)(Y.a.Toggle,{className:"navDrop",onClickCapture:function(){return b()},children:Object(R.jsx)(X.a,{width:"30",height:"30",active:!0,color:"white"})}),Object(R.jsx)(Y.a.Menu,{children:e.notifications?e.notifications.map((function(e){return f(e)})):null===(t=window.notifications)||void 0===t?void 0:t.map((function(e){return f(e)}))})]}),function(){var t;return e.notifications&&e.notifications.length-o>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:(null===(t=e.notifications)||void 0===t?void 0:t.length)-o})}):window.notifications&&window.notifications.length-o>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:window.notifications.length-o})}):""}()]}):""}),console.log(window.currentUser),e.request&&!0===e.request?Object(R.jsxs)(p.a.Fragment,{children:[Object(R.jsx)(V,{onClickCapture:function(){e.totalRequests?h(e.totalRequests):localStorage.setItem("requests",0)},to:"/requests",activeStyle:!0,children:"Your Requests"}),e.totalRequests&&e.totalRequests-u>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:e.totalRequests-u})}):localStorage.getItem("requests")>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:localStorage.getItem("requests")})}):""]}):"",Object(R.jsx)(V,{to:"/dashboard",activeStyle:!0,children:"Projects"}),Object(R.jsx)(V,{to:"/blogs",activeStyle:!0,children:"Blogs"})]}),Object(R.jsx)(Y.a,{children:Object(R.jsxs)("div",{class:"rowC",children:[window.currentUser?Object(R.jsx)(_,{children:Object(R.jsx)(G,{style:{borderRadius:"50%"},to:"/user/"+window.currentUser,children:"Profile"})}):"",Object(R.jsx)(Y.a.Toggle,{style:{backgroundColor:"black",borderColor:"black",height:"45px"},split:!0,variant:"success",id:"dropdown-custom-2"}),Object(R.jsxs)(Y.a.Menu,{className:"super-colors",children:[Object(R.jsx)(Y.a.Item,{eventKey:"1",children:"Repositories"}),Object(R.jsx)(Y.a.Item,{eventKey:"2",onClick:function(){n.push("/settings")},children:"Settings"}),Object(R.jsx)(Y.a.Item,{eventKey:"3",children:"Customization"}),Object(R.jsx)(Y.a.Divider,{}),window.currentUser&&"cors"!==(null===(s=window.currentUser)||void 0===s?void 0:s.type)?Object(R.jsx)(Y.a.Item,{eventKey:"4",onClick:function(){return delete window.currentUser,void n.push("/signin")},children:"Log Out"}):Object(R.jsx)(Y.a.Item,{eventKey:"5",onClick:function(){n.push("/signin")},children:"Sign In"})]}),window.currentUser&&"string"===typeof window.currentUser?Object(R.jsxs)(Y.a,{style:{marginLeft:"100px"},children:[Object(R.jsx)(Y.a.Toggle,{className:"navDrop bigPlus",onClickCapture:function(){return b()},children:Object(R.jsx)(A.b,{})}),Object(R.jsx)(Y.a.Menu,{children:Object(R.jsx)(Y.a.Item,{eventKey:"1",href:"/repository",children:"Create Repository"})})]}):""]})})]})})},Z=(s(717),s(391)),$=s(293),ee=function(e){var t=Object(j.useState)(!1),s=Object(O.a)(t,2),n=(s[0],s[1],Object(j.useState)([])),i=Object(O.a)(n,2);i[0],i[1];return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(L,{children:[Object(R.jsx)(H,{}),Object(R.jsxs)(z,{children:[Object(R.jsx)(W,{style:{color:"black"},onClick:function(t){return e.openRepo(t)},activeStyle:!0,children:"Your Repositories"}),Object(R.jsx)(W,{style:{color:"black"},onClick:function(t){return e.openRequest(t)},activeStyle:!0,children:"Your Requests"}),Object(R.jsx)(V,{style:{color:"black"},to:"/projects",activeStyle:!0,children:"Projects"}),Object(R.jsx)(V,{style:{color:"black"},to:"/Ideas",activeStyle:!0,children:"Ideas"}),window.currentUser&&e.user!=window.currentUser?Object(R.jsx)(U.a,{onClick:function(){e.openChat()},children:"Message"}):""]})]})})},te=s(826),se=s(827),ne=s(209),ie=s.n(ne),re=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={currentUser:"arpit",messageOpen:!1,projects:[],user:{},tab:"project",requests:[],visible:!0,addingInterests:!1,interests:["Looking for collaborating on web dev project"],editInterest:"",editingDescription:!1,messageList:[],image:null},n.onImageChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];n.setState({image:URL.createObjectURL(t)},(function(){fetch("http://127.0.0.1:8000/user/"+n.props.match.params.name+"/image",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({user:n.props.match.params.name,img:t,uri:n.state.image})})}))}},ie()(Object(w.a)(n)),console.log(e),n.loadUser(e.match.params.name),n.loadMessages(),n.loadImage(),n}return Object(y.a)(s,[{key:"loadImage",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+this.props.match.params.name+"/image").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({image:t})}))}},{key:"loadUser",value:function(e){var t=this;console.log(e),console.log("Hullla"),console.log(window),fetch("http://127.0.0.1:8000/user/"+e).then((function(e){return e.json()})).then((function(e){console.log(e[0]),t.setState({user:e[0]},console.log(t.state.user))}))}},{key:"loadMessages",value:function(){}},{key:"saveInterest",value:function(){var e=this;this.setState({interests:this.state.interests.concat(this.state.editInterest),addingInterests:!1}),fetch("http://127.0.0.1:8000/user/"+this.props.match.params.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({interest:this.state.editInterest})}).then((function(e){return e.json()})).then((function(t){e.setState({visible:!0},console.log(e.state.user))}))}},{key:"changeSuggest",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+this.props.match.params.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({visible:!this.state.visible})}).then((function(e){return e.json()})).then((function(t){e.setState({visible:!e.state.visible},console.log(e.state.user))}))}},{key:"addInterest",value:function(){this.setState({addingInterests:!0})}},{key:"openRepo",value:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.setState({tab:"project"})}},{key:"openRequest",value:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.setState({tab:"request"})}},{key:"getRequests",value:function(){var e=this;this.state.user.projects.forEach((function(t){fetch("http://127.0.0.1:8000/project/"+t.name+"/request").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({requests:e.state.requests.concat(t)})}))}))}},{key:"openChat",value:function(){this.setState({messageOpen:!this.state.messageOpen})}},{key:"renderTab",value:function(){switch(this.state.tab){case"project":return Object(R.jsx)("div",{className:"rowR1",children:this.state.user.projects?this.state.user.projects.map((function(e){return console.log(e.name),Object(R.jsx)(P.a,{style:{width:"auto",margin:"10px 10px 10px 10px"},children:Object(R.jsxs)(P.a.Body,{children:[Object(R.jsx)(P.a.Title,{children:Object(R.jsx)(T.b,{to:"/projects/".concat(e.name),children:e.name})}),Object(R.jsx)(P.a.Text,{children:e.detail})]})})})):""});case"request":return this.state.requests.length||this.getRequests(),Object(R.jsx)("div",{className:"rowR1",children:this.state.requests.map((function(e){return Object(R.jsx)(P.a,{style:{width:"auto",margin:"10px"},children:Object(R.jsxs)(P.a.Body,{children:[Object(R.jsxs)(P.a.Title,{children:["Request from: ",Object(R.jsx)(T.b,{to:"/requests/"+e.user,children:e.user})]}),Object(R.jsxs)(P.a.Text,{children:["For project: ",Object(R.jsx)(T.b,{to:"/projects/"+e.request,children:e.request})]}),Object(R.jsx)("button",{children:"Accept"}),Object(R.jsx)("button",{children:"Reject"})]})})}))})}}},{key:"editDescription",value:function(){this.setState({editingDescription:!0}),this.setState({newDescription:this.state.user.description})}},{key:"saveDescription",value:function(){var e=this.state.user;e.description=this.state.newDescription,this.setState({editingDescription:!1}),this.setState({user:e}),fetch("http://127.0.0.1:8000/user/"+this.props.match.params.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({description:e.description})}).then((function(e){return e.json()}))}},{key:"createRepository",value:function(){}},{key:"_onMessageWasSent",value:function(e){this.setState({messageList:this.state.messageList.concat(e)})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{className:"user",children:[Object(R.jsxs)("div",{className:"user-info",children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium",fontWeight:"600"},children:Object(R.jsx)(Q,{notification:!0,request:!0,notifications:this.state.notifications})}),Object(R.jsx)(ee,{openRepo:this.openRepo.bind(this),openRequest:this.openRequest.bind(this),user:this.props.match.params.name||this.props.user,openChat:this.openChat}),console.log(this.state.tab),Object(R.jsxs)("div",{class:"col-md-12 d-none d-md-block bg-user sidebar span nav white",children:[Object(R.jsx)("img",{className:"user-image",src:this.state.image}),Object(R.jsx)("p",{children:"Edit"}),Object(R.jsx)("input",{type:"file",name:"myImage",onChange:this.onImageChange}),Object(R.jsxs)("h2",{children:[this.state.user.name," "]}),this.state.editingDescription?Object(R.jsxs)("div",{children:[Object(R.jsx)(Z.a,{onChange:function(t){e.setState({newDescription:t.target.value})},value:this.state.newDescription}),Object(R.jsx)(k.a,{onClick:this.saveDescription,children:"Save"})]}):Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:this.state.user.description}),Object(R.jsx)(k.a,{onClick:this.editDescription,children:"Edit Descrption"})]}),Object(R.jsx)("h3",{children:"Suggest my profile to people with similar interests/projects."}),Object(R.jsx)(te.a,{onChange:this.changeSuggest,slider:!0}),Object(R.jsx)("h3",{children:"Looking to Collaborate on:"}),Object(R.jsxs)("ul",{children:[this.state.interests.map((function(e){return Object(R.jsx)("li",{children:e})})),this.state.addingInterests?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(se.a,{value:this.state.editInterest,onChange:function(t){e.setState({editInterest:t.target.value})}}),Object(R.jsx)(k.a,{onClick:this.saveInterest,children:"Save"})]}):Object(R.jsx)("div",{children:Object(R.jsx)(k.a,{onClick:this.addInterest,children:"Add"})})]})]}),Object(R.jsxs)("div",{class:"rowC1",children:[Object(R.jsx)("div",{style:{width:"20rem",padding:"10px",marginLeft:"20px"},children:Object(R.jsx)(N,{button:!1})}),Object(R.jsx)("div",{class:"leftButton",children:Object(R.jsx)(T.b,{to:"/repository",children:Object(R.jsx)(k.a,{style:{color:"white",backgroundColor:"green"},onClick:this.createRepository,children:"Create Repository"})})})]}),Object(R.jsx)("span",{}),this.renderTab(),this.state.messageOpen&&this.props.match.params.name!==this.state.currentUser?Object(R.jsx)("div",{children:Object(R.jsx)($.a,{agentProfile:{teamName:this.state.user.name,imageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png"},onMessageWasSent:this._onMessageWasSent.bind(this),messageList:this.state.messageList,showEmoji:!0})}):""]}),Object(R.jsx)("div",{className:"clear"})]})}}]),s}(j.Component),oe=Object(m.g)(re),ce=s(852),ae=(s(736),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={requests:[],commits:[]},n.UserRoute=n.UserRoute.bind(Object(w.a)(n)),n.getCommits=n.getCommits.bind(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"UserRoute",value:function(e){var t="/user/"+e;this.props.history.push(t)}},{key:"fetchRequest",value:function(){}},{key:"getCommits",value:function(){var e=this;fetch("https://github.com/avkumar19/SIH/commits/master?_pjax=%23js-repo-pjax-container").then((function(e){return console.log(e),e.json()})).then((function(t){console.log(t),console.log("Hiii"),e.setState({commits:e.state.commits.concat(t)})}))}},{key:"render",value:function(){var e,t=this;return Object(R.jsx)("div",{children:Object(R.jsx)("ul",{className:"user-list",children:Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(ce.a,{className:"col-md-12 d-none d-md-block bg-l sidebar span",activeKey:"/home",onSelect:function(e){return alert("selected ".concat(e))},children:[Object(R.jsx)("div",{className:"sidebar-sticky"}),Object(R.jsx)("h3",{children:"Project admins"}),Object(R.jsx)("h3",{children:"Users working on this"}),this.props.users.map((function(e){return Object(R.jsx)("div",{children:Object(R.jsx)(ce.a.Item,{children:Object(R.jsx)(ce.a.Link,{onClick:function(){return t.UserRoute(e)},children:e})})})})),Object(R.jsx)("hr",{}),Object(R.jsx)("h3",{children:"Latest activity"}),null===(e=this.props.commits)||void 0===e?void 0:e.map((function(e){return Object(R.jsx)("div",{})}))]})})})})}}]),s}(j.Component)),le=Object(m.g)(ae),ue=s(44),he=s(301),de=s(101),je=s.n(de),pe=(s(738),s(242)),be=s.n(pe),fe=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={currentUser:"arpit",users:[],discussions:[],requests:[],inputValue:""},n.updateInputValue=n.updateInputValue.bind(Object(w.a)(n)),n.publishMessage=n.publishMessage.bind(Object(w.a)(n)),n.subscriber=n.subscriber.bind(Object(w.a)(n)),n.publishMessage=n.publishMessage.bind(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"updateInputValue",value:function(e){e.preventDefault(),this.setState({inputValue:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;this.token=Object(ue.subscribe)("notifications-channel",this.subscriber),console.log(this.props),fetch("http://127.0.0.1:8000/project/"+this.props.project+"/discussions").then((function(e){return e.json()})).then((function(t){console.log(t),t.map((function(t){e.setState({discussions:e.state.discussions.concat({message:t.message,user:t.user})})}))}))}},{key:"urlify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/g,(function(e){return Object(R.jsx)("a",{href:e,children:e})}))}},{key:"componentDidUpdate",value:function(){var e=this;Object(ue.subscribe)("notifications-channel",(function(t){""===!t.message&&e.setState({discussions:e.state.discussions.concat(t)})}))}},{key:"publishMessage",value:function(e){var t=this;e.preventDefault(),this.setState({inputValue:""});var s=this.state.inputValue;Object(ue.publish)("notifications-channel",{message:s,user:window.currentUser,project:this.props.project}),fetch("http://127.0.0.1:8000/project/"+this.props.project+"/discussions",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:s,user:window.currentUser})}).then((function(e){return e.json()})).then((function(e){return t.setState({requests:t.state.requests.concat(e)})}))}},{key:"subscriber",value:function(e,t){this.setState({discussions:this.state.discussions.concat(t)})}},{key:"render",value:function(){return Object(R.jsxs)("div",{class:"rowR11",children:[Object(R.jsx)("div",{className:"discussions-details",children:this.state.discussions.map((function(e){return Object(R.jsxs)(P.a,{style:{backgroundColor:"RGB(37,211,102)",color:"white",width:"800px",margin:"10px 10px 10px 10px",float:e.user===window.currentUser},children:[e.user===window.currentUser?Object(R.jsx)(P.a.Header,{style:{backgroundColor:"RGB(37,211,102)",borderColor:"RGB(37,211,102)",color:"grey",width:"800px",textAlign:"left",borderRadius:"10px"},children:e.user}):Object(R.jsx)(P.a.Header,{style:{backgroundColor:"RGB(37,211,102)",borderColor:"RGB(37,211,102)",color:"grey",width:"800px",textAlign:"left",borderRadius:"10px",marginRight:"10px"},children:e.user}),Object(R.jsx)("div",{children:Object(R.jsx)(be.a,{children:e.message})})]})}))}),Object(R.jsx)("div",{class:"rowC",style:{bottom:"30px",position:"bottom"},children:Object(R.jsxs)(he.a.Group,{controlId:"formBasicEmail",children:[Object(R.jsx)(he.a.Control,{style:{width:"1000px"},value:this.state.inputValue,onChange:this.updateInputValue,type:"email",placeholder:"Enter message relevant to the project.."}),Object(R.jsx)(U.a,{onClick:this.publishMessage,variant:"primary",type:"submit",children:"Send"})]})})]})}}]),s}(j.Component),ge=(s(740),{pubMessage:function(e){Object(ue.publish)("requests-channel",{user:e.user,project:e.project})},acceptRequest:function(e){Object(ue.subscribe)("notifications-channel",this.subscriber);fetch("http://127.0.0.1:8000/user/"+e.user+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/project/"+e.request+"/user",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:"Your request for access to project:"+e.project+" was accepted by"+this.currentUser})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))},publishMessage:function(e){},removeRequest:function(e){fetch("http://127.0.0.1:8000/user/"+e.user+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))},declineRequest:function(e){fetch("http://127.0.0.1:8000/user/"+e.user+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:"Your request for access to project:"+e.request+" was declined by"+this.currentUser})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))},sendJoinRequest:function(e){var t;console.log("Holla"),null===(t=e.users)||void 0===t||t.map((function(t){fetch("http://127.0.0.1:8000/user/"+t.name+"/request",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e,user:window.currentUser})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+t.name+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:"Your Have received a Request from :"+window.currentUser+" to join your Project: "+e,user:window.currentUser,project:e})}).then((function(e){return console.log(e.status),e.json()})),Object(ue.publish)("request-notifications-channel",{message:window.currentUser+"wants to collaborate on your project"+e,user:t})})),fetch("http://127.0.0.1:8000/user/"+window.currentUser+"/requests",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.name,user:window.currentUser,message:"Hi"})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+window.currentUser).then((function(e){})).then((function(e){return console.log(e)}))}}),me=function(e){var t={projects:[{name:"collab",detail:"Application for collaborating on projects"}],name:"arpit",description:"MLEng",requests:[{user:"abc",project:"dadasds"}]},s=Object(j.useState)(!1),n=Object(O.a)(s,2),i=n[0],r=n[1],o=Object(j.useState)(e.discussions),c=Object(O.a)(o,2),a=c[0],l=c[1],u=Object(j.useState)(e.seenDiscussions),h=Object(O.a)(u,2),d=h[0],p=h[1],b=Object(j.useState)([]),f=Object(O.a)(b,2),g=f[0],m=f[1],x=function(){fetch("http://127.0.0.1:8000/user/"+window.currentUser+"/requests").then((function(e){return e.json()})).then((function(e){console.log(e),console.log("requests"),m(e),console.log(g)}))};Object(j.useEffect)((function(){x()}),[]),Object(j.useEffect)((function(){v()}),[g]);var v=function(){return e.enableJoinProject&&g.filter((function(t){return t.request===e.project.name})).length>0?Object(R.jsx)(U.a,{onClick:function(){return ge.removeRequest(g.filter((function(t){return t.request===e.project.name}))[0])},style:{color:"white",borderRadius:"20px",right:"100px",position:"absolute"},children:"Withdraw Request"}):!e.enableJoinProject||g.filter((function(t){return t.request===e.project.name})).length>0?void 0:(console.log(e.project),Object(R.jsx)(U.a,{onClick:function(){return function(e){var s=g,n={request:e.name,user:t.name},i=s.concat(n);m(i),console.log("Huiojisd"),console.log(i),ge.sendJoinRequest(e)}(e.project)},style:{color:"white",backgroundColor:"blue",fontWeight:"600",borderRadius:"20px",right:"100px",position:"absolute"},children:"Send Join Request"}))};Object(ue.subscribe)("notifications-channel",(function(e,t){console.log("Subscriber has msg "+e+" and data "+t),i||l(a+1)}));return Object(R.jsxs)("div",{style:{fontWeight:"550"},children:[x,Object(R.jsxs)(L,{children:[Object(R.jsx)(H,{}),Object(R.jsxs)(z,{children:[Object(R.jsx)(W,{className:"code"===e.active?"active":null,style:{color:"black",padding:"20px"},onClick:function(t){return e.openCode(t)},children:"Code"}),function(){if(e.showRequests)return Object(R.jsx)(W,{className:"requests"===e.active?"active":null,style:{color:"black",padding:"20px"},onClick:function(t){return e.openRequests(t)},children:"Requests"})}(),e.showRequests&&e.totalReq>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:e.totalReq})}):"",Object(R.jsx)(W,{className:"discussions"===e.active?"active":null,style:{color:"black",padding:"20px"},onClick:function(s){return function(s){r(!0),p(a),fetch("http://127.0.0.1:8000/user/"+t.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({seenDiscussions:d})}).then((function(e){return e.json()})),e.openDiscussions(s)}(s)},children:"Discussions"}),a>0?Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:a-d})}):"",Object(R.jsx)(W,{className:"commits"===e.active?"active":null,style:{color:"black"},onClick:function(t){e.openCommits()},children:"Commits"}),Object(R.jsx)(W,{className:"commits"===e.active?"active":null,style:{color:"black"},onClick:function(t){e.openSettings()},children:"Settings"}),v(),console.log(t.requests.filter((function(t){return t.project===e.project.name})).length>0)]})]})]})},Oe=s(848),xe=(s(206),s(358),s(359),s(294)),ve=(s(363),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={commits:[{user:"kartik",date:"8 Nov, 2020"}]},n}return Object(y.a)(s,[{key:"getCommits",value:function(){fetch("https://github.com/avkumar19/SIH/commits/master?_pjax=%23js-repo-pjax-container",{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({name:this.state.name,detail:this.state.description,users:this.state.projectAdmins,tags:this.state.tags})}).then((function(e){}))}},{key:"render",value:function(){return Object(R.jsx)("div",{style:{color:"black",backgroundColor:"white"},children:this.state.commits.map((function(e){return Object(R.jsx)(P.a,{children:Object(R.jsxs)(P.a.Text,{children:[Object(R.jsx)(T.b,{children:e.user}),"  commited on ",e.date]})})}))})}}]),s}(j.Component)),ye=(s(757),function(e){return Object(R.jsx)("div",{className:"tag",children:Object(R.jsxs)("div",{className:"tag-item",children:[Object(R.jsx)("div",{className:"tag-info",children:e.name}),e.delete?Object(R.jsx)("div",{type:"submit",class:"close",onClick:function(t){return e.deleteTags(e.name)},children:"\u2716"}):"",Object(R.jsx)("div",{className:"clear"})]})})}),we=s(244),Ce=s(81),qe=(s(758),s(150)),Se=s.n(qe),ke=s(207).spawn,Re=s(775).URL,Ne=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).fs=new Se.a("fs"),n.pfs=n.fs.promises,n.currentUser={projects:[{name:"collab",detail:"Application for collaborating on projects"}],name:"arpit",description:"MLEng",requests:[{user:"abc",project:"def"}]},n.state={dir:"/test-clone",users:[],project:[],sortValue:"",editing:!1,tab:"code",options:[{key:"master",text:"Master",value:"Master"}],user:"arpit",branches:["first"],requests:[],branchCreate:!1,currentBranch:"master",newBranch:"",requestAllow:!0,gitRepo:"",enableRequests:!0,editingTags:!1,tagValue:"",editTags:[],discussions:[],files:[],commits:[]},n.description="",console.log(e),n.getProjectUsers=n.getProjectUsers.bind(Object(w.a)(n)),n.editDescription=n.editDescription.bind(Object(w.a)(n)),n.submitDescription=n.submitDescription.bind(Object(w.a)(n)),n.openDiscussions=n.openDiscussions.bind(Object(w.a)(n)),n.loadUser=n.loadUser.bind(Object(w.a)(n)),n.openCode=n.openCode.bind(Object(w.a)(n)),n.openDiscussions=n.openDiscussions.bind(Object(w.a)(n)),n.openRequests=n.openRequests.bind(Object(w.a)(n)),n.getProjectUsers(),n.loadBranches=n.loadBranches.bind(Object(w.a)(n)),n.enableCreateBranch=n.enableCreateBranch.bind(Object(w.a)(n)),n.createBranch=n.createBranch.bind(Object(w.a)(n)),n.getBranch=n.getBranch.bind(Object(w.a)(n)),je()(Object(w.a)(n)),n.getRequests(),n.returnGitFiles(),n.token=Object(ue.subscribe)("requests-channel",n.subscriber),n.loadBranches(n.state.user),fetch("http://127.0.0.1:8000/project/"+n.props.name).then((function(e){return e.json()})).then((function(e){n.setState({project:e},(function(){console.log(n.state.project),n.getAllow()}))})),n}return Object(y.a)(s,[{key:"onAuth",value:function(){var e=Object(F.a)(I.a.mark((function e(t){var s,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Re(t),n=s.protocol,i=s.host,e.abrupt("return",new Promise((function(e,t){var s=[],r=ke("git",["credential","fill"]);r.on("close",(function(n){if(n)return t(n);var i=s.join("\n").split("\n").reduce((function(e,t){if(t.startsWith("username")||t.startsWith("password")){var s=t.split("="),n=Object(O.a)(s,2),i=n[0],r=n[1];e[i]=r}return e}),{}),r=i.username,o=i.password;e({username:r,password:o})})),r.stdout.on("data",(function(e){return s.push(e.toString().trim())})),r.stdin.write("protocol=".concat(n.slice(0,-1),"\nhost=").concat(i,"\n\n"))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllow",value:function(){var e=this;this.setState({requestAllow:this.state.project.allowRequest},(function(){console.log(e.state.requestAllow)}))}},{key:"gitSetup",value:function(){var e=Object(F.a)(I.a.mark((function e(){var t,s,n,i,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fs,s=this.pfs,n="/newLocalGit",e.next=5,Ce.a.clone({fs:t,http:we.a,dir:n,corsProxy:"https://cors.isomorphic-git.org",url:"https://github.com/".concat(window.currentUser,"/").concat(this.props.name),ref:"master",singleBranch:!1,depth:10,onAuth:function(){return{oauth2format:"github",token:"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"}}});case 5:return e.sent,e.next=8,s.readdir(n);case 8:return i=e.sent,e.next=11,Ce.a.log({fs:t,dir:n});case 11:r=e.sent,this.setState({files:i}),this.setState({commits:r});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkoutBranch",value:function(){var e=Object(F.a)(I.a.mark((function e(t){var s,n,i,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.fs,n=this.pfs,i="/newLocalGit","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",e.next=6,Ce.a.checkout({fs:s,dir:i,ref:t});case 6:return e.next=8,n.readdir(i);case 8:return r=e.sent,this.pfs=n,e.next=12,Ce.a.log({fs:s,dir:i});case 12:e.sent,console.log(r),this.setState({files:r});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscriber",value:function(e,t){console.log("Subscriber has msg "+e+" and data "+t),e.project===this.state.project&&this.setState({requests:this.state.requests.concat(t)})}},{key:"getRequests",value:function(){var e=this;fetch("http://127.0.0.1:8000/project/"+this.props.name+"/request").then((function(e){return e.json()})).then((function(t){return e.setState({requests:t},(function(){return e.getEnableRequest()}))})),console.log(this.state.requests)}},{key:"getEnableRequest",value:function(){var e=!(this.state.users.filter((function(e){return e===window.currentUser})).length>0);this.setState({enableRequests:e})}},{key:"getCommits",value:function(){var e=this;fetch("https://github.com/avkumar19/SIH/commits/master?_pjax=%23js-repo-pjax-container",{method:"GET",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","X-Requested-With":"XMLHttpRequest",Authorization:"Basic YWxhZGRpbjpvcGVuc2VzYW1l",Host:""}}).then((function(e){return console.log(e),e.json()})).then((function(t){e.setState({commits:e.state.commits.concat(t)})}))}},{key:"onDescChange",value:function(e){this.description=e;var t=Object(g.a)({},this.state.project);t.description=this.description,this.setState({project:t})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://127.0.0.1:8000/project/"+this.props.project+"/discussions").then((function(e){return e.json()})).then((function(t){console.log(t),t.map((function(t){e.setState({discussions:e.state.discussions.concat({message:t.message,user:t.user})})}))})),Object(ue.subscribe)("notifications-channel",(function(t){""===!t.message&&e.setState({discussions:e.state.discussions.concat(t)})})),console.log(window.currentUser)}},{key:"loadUser",value:function(){var e=this;this.state.users.length>0&&this.setState({user:this.state.users[0]},(function(){return e.getEnableRequest()})),console.log(this.state.user)}},{key:"getProjectUsers",value:function(){var e=this;"undefined"!==typeof this.props.match.params.name?fetch("http://127.0.0.1:8000/project/"+this.props.match.params.name+"/users").then((function(e){return e.json()})).then((function(t){var s=[];t.map((function(e){return s.push(e.fields.name)})),e.setState({users:s},e.loadUser)})):fetch("http://127.0.0.1:8000/project/"+this.props.name+"/users").then((function(e){return e.json()})).then((function(t){var s=[];t.map((function(e){return s.push(e.fields.name)})),e.setState({users:s},e.loadUser)}))}},{key:"setUser",value:function(e,t){console.log(t),this.setState({user:t}),this.loadBranches(t)}},{key:"loadBranches",value:function(e){var t=this;fetch("http://127.0.0.1:8000/project/"+this.props.name+"/user/"+e+"/branch").then((function(e){return e.json()})).then((function(e){t.setState({branches:e})}))}},{key:"editDescription",value:function(){this.setState({editing:!0})}},{key:"openDiscussions",value:function(){this.setState({tab:"discussions"})}},{key:"openCode",value:function(){this.setState({tab:"code"}),this.setState({discussionsOpen:!1})}},{key:"openBranch",value:function(e){this.setState({currentBranch:e}),this.checkoutBranch(e)}},{key:"openRequests",value:function(){this.state.requests.length,this.setState({tab:"requests"}),this.setState({discussionsOpen:!1})}},{key:"openCommits",value:function(){this.setState({tab:"commits"})}},{key:"openSettings",value:function(){this.setState({tab:"settings"})}},{key:"submitDescription",value:function(){this.setState({editing:!1}),console.log(this.state.project.description),fetch("http://127.0.0.1:8000/project/"+this.props.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({name:this.props.name,description:this.state.project.description})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"enableCreateBranch",value:function(e){e.stopPropagation(),this.setState({branchCreate:!0}),console.log(this.state)}},{key:"createBranch",value:function(){var e=this;fetch("http://127.0.0.1:8000/project/"+this.props.name+"/user/"+this.state.user+"/branch",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({branchName:this.state.newBranch})}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://127.0.0.1:8000/project/"+this.props.name+"/user/"+this.state.user+"/branch").then((function(e){return e.json()})).then((function(t){e.setState({branches:t})})),this.setState({currentBranch:this.state.newBranch}),this.setState({branchCreate:!1});var t=new FormData;t.append("name",this.state.newBranch),t.append("branch","master"),fetch("https://cors.isomorphic-git.org/arpit196/trial/branches",{method:"POST",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"https://cors.isomorphic-git.org/","X-Requested-With":"XMLHttpRequest",Authorization:"Basic YWxhZGRpbjpvcGVuc2VzYW1l",Host:""},body:t})}},{key:"getBranch",value:function(e){this.setState({newBranch:e.target.value})}},{key:"changeRequestAccess",value:function(){this.setState({requestAllow:!this.state.requestAllow}),fetch("http://127.0.0.1:8000/project/"+this.props.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({allowRequest:this.state.requestAllow})}).then((function(e){return e.json()}))}},{key:"branchCreationTab",value:function(){var e=this;return console.log(this.state.users),this.state.users.filter((function(t){return t===e.currentUser.name})).length>0?this.state.branchCreate?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(Y.a.ItemText,{children:Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsx)(Oe.a,{style:{padding:"10px",height:"10px"},placeholder:"Branch Name",onChange:this.getBranch}),Object(R.jsx)(U.a,{style:{margin:"5px"},onClick:this.createBranch,children:"Create"})]})})}):Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(Y.a.Item,{onClick:function(t){return e.enableCreateBranch(t)},children:"Create New Branch"})}):""}},{key:"blockRequests",value:function(){var e=this;this.setState({requestAllow:!this.state.requestAllow},(function(){fetch("http://127.0.0.1:8000/project/"+e.state.project.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({allowRequest:e.state.requestAllow})}).then((function(e){return e.json()}))}))}},{key:"returnGitFiles",value:function(){var e=this;fetch("https://cors-anywhere.herokuapp.com/https://github.com/"+this.currentUser.gitAccount+"/".concat(this.props.name,"/file-list/master"),{headers:{"X-Requested-With":"XMLHttpRequest",Authorization:"Basic YWxhZGRpbjpvcGVuc2VzYW1l",Host:""}}).then((function(e){return e.text()})).then((function(t){var s=(new DOMParser).parseFromString(t,"text/html");e.setState({gitRepo:s}),console.log(s.body)}))}},{key:"declineSelected",value:function(){this.state.requests.map((function(e){ge.declineRequest(e)}))}},{key:"acceptingRequest",value:function(e){ge.acceptRequest(e),this.setState({tab:"code"}),this.getProjectUsers()}},{key:"decliningRequest",value:function(e){var t=this;fetch("http://127.0.0.1:8000/user/"+e.user+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){console.log(e.status)})).then((function(){t.getRequests()})),fetch("http://127.0.0.1:8000/user/"+e.user+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:window.currentUser+" declined your request for "+e.request,project:e.request,user:e.user})}).then((function(e){console.log(e.status)}))}},{key:"editTags",value:function(){this.setState({editingTags:!0,editTags:this.state.project.tags})}},{key:"addTag",value:function(e){var t=this;this.setState({tagValue:e.target.value}),32===e.target.value.charCodeAt(e.target.value.length-1)&&this.setState({tagValue:"",editTags:this.state.editTags.concat({name:this.state.tagValue})},(function(){console.log(t.state.editTags)}))}},{key:"saveTags",value:function(){var e=this.state.project;e.tags=this.state.editTags,this.setState({editingTags:!1,project:e}),fetch("http://127.0.0.1:8000/project/"+this.props.name,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({tags:e.tags})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"deleteTags",value:function(e){var t=this.state.editTags,s=t.indexOf(e);t.splice(s,1),this.setState({editTags:t})}},{key:"deleteRepo",value:function(){fetch("http://127.0.0.1:8000/project/"+this.props.name,{method:"DELETE"}).then((function(e){return e.json()}))}},{key:"switchTab",value:function(){var e,t,s=this;switch(this.state.tab){case"code":return Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{class:"center1",children:Object(R.jsxs)(P.a,{style:{width:"50rem"},children:[Object(R.jsx)(P.a.Header,{style:{borderRadius:"10px"},children:Object(R.jsx)("h2",{children:"Github Repository for the project:"})}),Object(R.jsxs)(P.a.Body,{children:[this.state.project.repository,Object(R.jsxs)("div",{className:"leftComponent rowC",children:[Object(R.jsxs)(Y.a,{class:"dropdown",children:[Object(R.jsx)(Y.a.Toggle,{variant:"success",id:"dropdown-basic",children:this.state.user}),console.log(this.state.users),Object(R.jsx)(Y.a.Menu,{children:this.state.users.map((function(e){return Object(R.jsx)(Y.a.Item,{onClick:function(t){return s.setUser(t,e)},id:"dropdown-user",children:e})}))})]}),Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(Y.a.Toggle,{variant:"success",id:"dropdown-branch",children:this.state.currentBranch}),Object(R.jsxs)(Y.a.Menu,{children:[Object(R.jsx)(Y.a.Item,{children:"master"}),this.state.branches.map((function(e){return Object(R.jsx)(Y.a.Item,{onClick:function(){return s.openBranch(e.name)},id:"dropdown-user",children:e.name})})),console.log(this.state.branchCreate),this.branchCreationTab()]})]})]}),Object(R.jsxs)(P.a,{children:[Object(R.jsx)(P.a.Header,{style:{textAlign:"left"},children:"file name"}),Object(R.jsx)(P.a.Body,{children:this.state.files.map((function(e){return Object(R.jsxs)("div",{style:{textAlign:"left"},children:[Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:e})}),Object(R.jsx)("br",{style:{color:"white"}})]})}))})]})]})]})}),Object(R.jsx)("div",{class:"center1",children:Object(R.jsxs)(P.a,{style:{width:"50rem"},children:[Object(R.jsx)(P.a.Header,{style:{borderRadius:"10px",textAlign:"left"},children:Object(R.jsx)("h2",{children:"Description File"})}),Object(R.jsx)(P.a.Body,{children:this.state.editing?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("textarea",{onChange:function(e){return s.onDescChange(e.target.value)},value:this.state.project.description,ref:function(e){return s.description=e}}),Object(R.jsx)(U.a,{onClick:this.submitDescription,children:"submit"})]}):Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:this.state.project.description}),Object(R.jsx)(U.a,{onClick:this.editDescription,children:"Edit"})]})})]})})]}),Object(R.jsxs)("div",{style:{marginLeft:"100px"},children:[Object(R.jsx)("h1",{children:"About"}),Object(R.jsx)("div",{class:"rowC",children:this.state.editingTags?Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{class:"rowC",children:null===(e=this.state.editTags)||void 0===e?void 0:e.map((function(e){return Object(R.jsx)(ye,{name:e.name,delete:!0,deleteTags:function(){return s.deleteTags(e.name)}})}))}),Object(R.jsx)("textarea",{value:this.state.tagValue,onChange:function(e){return s.addTag(e)},children:this.state.tagValue}),Object(R.jsx)(U.a,{onClick:this.saveTags,children:"Save changes"})]}):Object(R.jsxs)("div",{children:[this.state.users.includes(window.currentUser)?Object(R.jsx)(U.a,{onClick:this.editTags,style:{align:"right",margin:"10px",height:"44px"},children:"Change Tags"}):"",Object(R.jsx)("div",{class:"rowC",children:null===(t=this.state.project.tags)||void 0===t?void 0:t.map((function(e){return Object(R.jsx)(ye,{name:e.name,delete:!1})}))})]})})]})]});case"discussions":return Object(R.jsx)("div",{children:Object(R.jsx)(fe,{project:this.state.project.name})});case"commits":return Object(R.jsx)("div",{children:Object(R.jsx)(ve,{})});case"requests":return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{class:"sideBar",children:[Object(R.jsx)("p",{style:{color:"black",fontSize:"16",fontWeight:"700"},children:"Disable Requests for this Project"}),console.log(this.state.requestAllow),Object(R.jsx)(te.a,{checked:!this.state.requestAllow,toggle:!0,onChange:this.blockRequests,slider:!0})]}),Object(R.jsxs)("div",{children:[this.state.requests.length>0?Object(R.jsx)("div",{children:Object(R.jsx)("button",{onClick:this.declineSelected,class:"btn-reject",children:"Decline all Requests"})}):"",this.state.requests.map((function(e){return Object(R.jsx)("div",{children:Object(R.jsxs)(P.a,{style:{width:"40rem",color:"white",margin:"10px"},children:[Object(R.jsx)(P.a.Body,{children:Object(R.jsxs)(P.a.Text,{children:["Requested by : ",Object(R.jsx)(T.b,{to:"/user/"+e.user,children:e.user})]})}),Object(R.jsxs)("div",{class:"rowC",style:{color:"black"},children:[Object(R.jsx)(U.a,{style:{marginRight:"30px",marginLeft:"30px"},class:"push_button accept",onClick:function(){s.acceptingRequest(e)},children:"Accept"}),Object(R.jsx)(U.a,{style:{marginLeft:"260px"},class:"push_button reject",onClick:function(){s.decliningRequest(e)},children:"Decline"})]})]})})}))]})]});case"settings":return Object(R.jsx)("div",{children:Object(R.jsx)("button",{class:"btn-reject",onClick:this.deleteRepo,children:"Delete this Repository"})})}}},{key:"displayJoinButton",value:function(){0===this.currentUser.request.filter(this.hasProjectRequest).length?(U.a,ge.sendJoinRequest(this.state.project)):(U.a,ge.removeRequest(this.state.project))}},{key:"getUserRequests",value:function(e){var t=[];return fetch("http://127.0.0.1:8000/user/"+e+"/requests").then((function(e){return e.json()})).then((function(e){return t=e})),t}},{key:"hasProject",value:function(e){e.request.equalsIgnoreCase(this.props.project.name)}},{key:"logAcceptOrReject",value:function(){return this.props.user!=this.currentUser?this.getUserRequests(this.currentUser).filter(this.hasProject).length?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("div",{children:Object(R.jsx)(U.a,{onClick:ge.sendJoinRequest(this.state.project),children:"Send Request"})})}):Object(R.jsx)("div",{children:Object(R.jsx)(U.a,{onClick:ge.sendJoinRequest(this.state.project),children:"Send Request"})}):Object(R.jsx)(R.Fragment,{})}},{key:"render",value:function(){return document.body.style.background="white",Object(R.jsx)("div",{children:Object(R.jsxs)("div",{className:"project-container",children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium",fontWeight:"600"},children:Object(R.jsx)(Q,{notification:!0,request:!0})}),this.logAcceptOrReject,console.log(this.state.users),this.state.project!==[]?Object(R.jsx)(me,{project:this.state.project,openCode:this.openCode.bind(this),showRequests:this.state.users.filter((function(e){return e===window.currentUser})).length>0,openRequests:this.openRequests.bind(this),totalReq:this.state.requests.length,openDiscussions:this.openDiscussions.bind(this),active:this.state.tab,enableJoinProject:this.state.enableRequests,openCommits:this.openCommits.bind(this),openSettings:this.openSettings.bind(this),users:this.state.users}):"",Object(R.jsx)("h1",{class:"center",children:this.state.project.name}),Object(R.jsxs)("div",{class:"rowC1",children:[this.switchTab(),Object(R.jsx)(le,{users:this.state.users,discussions:this.state.discussions,commits:this.state.commits})]})]})})}}]),s}(j.Component),Te=Object(m.g)(Ne),Pe=s(849),Ue=(s(793),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={user:{}},n.openProfile=function(e){e.preventDefault(),fetch("http://127.0.0.1:8000/user/"+n.props.user.name).then((function(e){return e.json()})).then((function(e){console.log(e[0]),n.setState({user:e[0]},console.log(n.state.user))})),console.log(n.props),n.props.history.push("/user/"+n.props.user.name)},n}return Object(y.a)(s,[{key:"renderOnCondition",value:function(){var e=this;return"Already Joined"===this.props.status?Object(R.jsx)(U.a,{onClick:function(){e.props.withdraw(e.props.project)},children:"Withdraw from Project"}):"Request Sent"===this.props.status?Object(R.jsx)(U.a,{onClick:function(){e.props.cancelRequest(e.props.project)},children:"Cancel Request"}):Object(R.jsx)(U.a,{onClick:function(){e.props.sendJoinRequest(e.props.project)},children:"Send Request to join"})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{children:Object(R.jsx)("div",{style:{margin:"10px"},contenteditable:"true",className:"react-list-select--item center",children:Object(R.jsx)(P.a,{onClick:function(t){return e.openProfile(t)},style:{width:"60rem"},children:Object(R.jsxs)(P.a.Body,{children:[Object(R.jsx)(P.a.Title,{children:Object(R.jsx)(T.b,{to:"/user/"+this.props.user.name,children:this.props.user.name})}),Object(R.jsx)(P.a.Text,{children:this.props.user.description})]})})})})}}]),s}(j.Component)),Ae=Object(m.g)(Ue),Be=s(850),De=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).currentUser={projects:[{name:"collab",detail:"Application for collaborating on projects"}],name:"arpit",description:"MLEng",requests:[{user:"abc",project:"def"}]},n.state={projects:[],users:[],tags:[],project:{},requestingToProject:{},tagInput:"",searchBy:"project",inputValue:"",projectOpen:!1,options:[{key:"webdevelopment",text:"Web Development",value:"Web Development"},{key:"Machine Learning",text:"Machine Learning",value:"Machine Learning"}],notifications:[],messages:{},receivedRequests:[],seenRequests:0,showRequestModal:!1,expanded:!1,noteInput:"",note:"",userProjects:[]},n.options=["projects","user","both"],n.searchSimilarProject=function(e){var t=Object(x.a)(n.state.projects),s=Object(x.a)(n.state.users);if("user"===n.state.searchBy){var i=n.state.inputValue;s.filter(n.validUser).map((function(e){var t=0;fetch("http://127.0.0.1:8000/compare/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({searchInput:i,user:e,tags:n.state.options})}).then((function(e){return e.json()})).then((function(s){t=s,e.similarity=t}))})),s.sort((function(e,t){return t.similarity-e.similarity})),n.setState({users:Object(x.a)(s)})}else{console.log(t);i=n.state.inputValue;n.setState({projects:[]});var r=t.filter((function(e){return n.similarTag(e)}));console.log(r),t.map((function(e){var t=0;return fetch("http://127.0.0.1:8000/compare/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({searchInput:i,project:e,tags:n.state.tags})}).then((function(e){return e.json()})).then((function(s){t=s,e.similarity=t,console.log(e.name),console.log(e.similarity[0]+e.Name)})).then((function(){n.setState({projects:n.state.projects.concat(e)});var t=n.state.projects;t.sort((function(e,t){return t.similarity-e.similarity})),n.setState({projects:Object(x.a)(t)})})).catch((function(e){return console.log(e)})),e})),console.log()}},n.cancelRequest=function(e){fetch("http://127.0.0.1:8000/user/"+n.currentUser.name+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.name,user:n.currentUser.name})}).then((function(e){console.log(e.status)})).then((function(e){console.log(e),n.getAllRequests()}));var t=n.state.receivedRequests.findIndex((function(t){return t.request===e.name}));t>-1&&n.state.receivedRequests.splice(t,1)},n.sendJoinRequest=function(e){n.showNote(e),n.publishMessage(),fetch("http://127.0.0.1:8000/user/"+n.currentUser.name+"/requests",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.name,user:n.currentUser.name,message:n.state.note})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))},n.openProject=n.openProject.bind(Object(w.a)(n)),n.searchByPeople=n.searchByPeople.bind(Object(w.a)(n)),n.searchByProject=n.searchByProject.bind(Object(w.a)(n)),n.subscriber=n.subscriber.bind(Object(w.a)(n)),n.getAllRequests=n.getAllRequests.bind(Object(w.a)(n)),n.showNote=n.showNote.bind(Object(w.a)(n)),n.withdraw=n.withdraw.bind(Object(w.a)(n)),n.setModal=n.setModal.bind(Object(w.a)(n)),n.getNote=n.getNote.bind(Object(w.a)(n)),n.addNote=n.addNote.bind(Object(w.a)(n)),n.closeNote=n.closeNote.bind(Object(w.a)(n)),je()(Object(w.a)(n)),n.cancelRequest=n.cancelRequest.bind(Object(w.a)(n)),n.getAllRequests(),n.getUserProjects(),n.getAllTags(),console.log(n.state.userProjects),window.fs=new Se.a("fs"),window.pfs=window.fs.promises,window.dir="/tutorial",n}return Object(y.a)(s,[{key:"getUserProjects",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+window.currentUser).then((function(e){return e.json()})).then((function(t){var s;console.log(t),e.setState({userProjects:null===(s=t[0])||void 0===s?void 0:s.projects},(function(){console.log(e.state.userProjects)}))}))}},{key:"getAllTags",value:function(){var e=this;fetch("http://127.0.0.1:8000/tags/").then((function(e){return e.json()})).then((function(t){t.map((function(t){var s=t.name;e.setState({options:e.state.options.concat({key:s,text:s,value:s})})}))}))}},{key:"publishMessage",value:function(e){Object(ue.publish)("requests-channel",{user:window.currentUser,project:e})}},{key:"getAllRequests",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+this.currentUser.name+"/requests").then((function(e){return console.log(e),e.json()})).then((function(t){console.log(t),e.setState({receivedRequests:e.state.receivedRequests.concat(t)})}))}},{key:"componentDidMount",value:function(){var e=this;console.log(window.currentUser),this.token=Object(ue.subscribe)("request-notifications-channel",this.subscriber),fetch("http://127.0.0.1:8000/wel/").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({projects:t}),fetch("http://127.0.0.1:8000/user/"+window.currentUser+"/notifications").then((function(e){return e.json()})).then((function(t){e.setState({notifications:e.state.notifications.concat(t)}),window.notifications=t})),console.log(window.notifications)}))}},{key:"validUser",value:function(e){return e.visible}},{key:"similarTag",value:function(e){var t=this;return e.tags.forEach((function(e){t.state.tags.forEach((function(t){if(t===e)return!0}))})),!1}},{key:"openProject",value:function(e){this.setState({projectOpen:!0,project:e})}},{key:"hasProject",value:function(e){var t,s=!1;return null===(t=this.state.userProjects)||void 0===t||t.forEach((function(t){console.log(t.name===e),t.name===e&&(s=!0)})),s}},{key:"getNote",value:function(e){var t=this;this.setState({noteInput:e.target.value},(function(){console.log(t.state.noteInput)}))}},{key:"showNote",value:function(e){var t=document.getElementById("project-viewer");t.className=t.className+" is-blurred",this.setState({showRequestModal:!0,requestingToProject:e}),console.log(this.currentUser)}},{key:"closeNote",value:function(){document.body.classList.remove("is-blurred"),this.setState({showRequestModal:!1})}},{key:"sendRequstWithNote",value:function(){var e=this,t=this.state.requestingToProject;console.log(this.state.noteInput),t.users.map((function(s){fetch("http://127.0.0.1:8000/user/"+s.name+"/requests",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({project:t.name,user:e.currentUser.name,message:e.state.noteInput})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+s.name+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:e.currentUser.name+"wants to join your Project: "+t.name,user:s.name,project:t.name})}).then((function(e){return console.log(e.status),e.json()})),Object(ue.publish)("request-notifications-channel",{message:e.currentUser.name+"wants to collaborate on your project"+t,user:s})})),this.setState({receivedRequests:this.state.receivedRequests.concat({request:t.name,user:this.currentUser.name,message:this.state.noteInput})},(function(){console.log(e.state.receivedRequests)}))}},{key:"addNote",value:function(){var e=this;console.log(this.state.noteInput),this.setState({note:this.state.noteInput,showRequestModal:!1},(function(){return e.sendRequstWithNote()}));var t=document.getElementById("project-viewer");t.className=t.classList.remove("is-blurred")}},{key:"subscriber",value:function(e,t){console.log("Subscriber has msg "+e+" and data "+t),this.setState({notifications:this.state.notifications.concat(t)})}},{key:"withdraw",value:function(){this.showNote()}},{key:"loadUsers",value:function(){var e=this;fetch("http://127.0.0.1:8000/users/").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({users:t})}))}},{key:"getNewRequests",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+this.currentUser+"/requests").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({requests:e.state.requests.concat(t)})}))}},{key:"getDiscussions",value:function(){var e=Object(g.a)({},this.state.messages);this.subscribe.messages.map((function(t){e[t.project]+=1})),this.setState({message:e})}},{key:"setTags",value:function(e,t){"delete icon"===e.target.className?this.setState({tags:t.value}):this.setState({tags:this.state.tags.concat(e.target.outerText)}),console.log(this.state.tags)}},{key:"searchByPeople",value:function(){this.setState({searchBy:"people"}),0===this.state.users.length&&(this.loadUsers(),console.log(this.state.users))}},{key:"searchByProject",value:function(){this.setState({searchBy:"project"}),0===this.state.projects.length&&this.loadProjects()}},{key:"onSearchChange",value:function(e){this.setState({tagInput:e.value}),console.log(this.state.options),console.log(this.state.tagInput)}},{key:"getNewProjectRequests",value:function(e){var t=this,s=0;return fetch("http://127.0.0.1:8000/project/"+e.name+"/requests").then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({}),s=e})),s}},{key:"onInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"setModal",value:function(){var e=this;return console.log(this.currentUser),this.state.showRequestModal?Object(R.jsx)("div",{style:{position:"fixed"},children:Object(R.jsxs)(Be.a.Dialog,{style:{opacity:1,position:"fixed"},className:"is_shown ModalOpen",children:[Object(R.jsx)(Be.a.Header,{closeButton:!0,children:Object(R.jsx)(Be.a.Title,{children:"Add note to your Request (Optional)"})}),Object(R.jsx)(Be.a.Body,{children:Object(R.jsx)("input",{value:this.state.noteInput,onChange:this.getNote,placeholder:"Note Description..."})}),Object(R.jsxs)(Be.a.Footer,{children:[Object(R.jsx)(U.a,{variant:"secondary",onClick:this.closeNote,children:"Close"}),Object(R.jsx)(U.a,{variant:"primary",onClick:this.addNote,children:"Send"})]})]})}):Object(R.jsx)("div",{children:Object(R.jsxs)(Be.a.Dialog,{className:"is-hidden is-visuallyHidden ",children:[Object(R.jsx)(Be.a.Header,{closeButton:!0,children:Object(R.jsx)(Be.a.Title,{children:"Add note to your Request (Optional)"})}),Object(R.jsx)(Be.a.Body,{children:Object(R.jsx)("input",{value:this.state.noteInput,onChange:function(t){return e.getNote(t)},placeholder:"Note Description..."})}),Object(R.jsxs)(Be.a.Footer,{children:[Object(R.jsx)(U.a,{variant:"secondary",onClick:this.closeNote,children:"Close"}),Object(R.jsx)(U.a,{variant:"primary",onClick:this.addNote,children:"Send"})]})]})})}},{key:"componentDidUpdate",value:function(){}},{key:"putTag",value:function(e){this.setState({tags:this.state.tags.concat(e)})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{children:[!1===this.state.projectOpen&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{id:"RequestModal",class:"Modal",children:this.setModal()}),Object(R.jsx)("div",{id:"project-viewer",className:"main",children:Object(R.jsxs)("div",{className:"project-container",children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium",fontWeight:"600"},children:Object(R.jsx)(Q,{notification:!0,request:!0,notifications:this.state.notifications})}),Object(R.jsx)("span",{}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsxs)(ce.a,{className:"col-md-12 d-none d-md-block bg-l sidebar sidebarmain span pad",children:[Object(R.jsx)("div",{className:"sidebar-sticky"}),Object(R.jsx)("h3",{children:"Your Repositories:"}),this.currentUser.projects.length<5?this.currentUser.projects&&this.currentUser.projects.map((function(e){return Object(R.jsxs)("div",{class:"rowC boldFont",style:{marginLeft:"50px"},children:[Object(R.jsx)(T.c,{to:"/projects/"+e.name,children:e.name}),Object(R.jsx)("div",{class:"circle",style:{margin:"auto"},children:Object(R.jsx)("p",{style:{margin:"auto",padding:"2px 2px 2px 2px"},children:0})})]})})):this.currentUser.projects&&this.currentUser.projects.slice(0,5).map((function(t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(T.c,{to:"/projects/"+t.name,children:t.name}),Object(R.jsx)("div",{class:"circle",children:Object(R.jsx)("p",{children:e.getNewRequests(t)})})]})})),Object(R.jsx)("hr",{}),Object(R.jsx)("h3",{children:"Latest Discussions:"}),Object.entries(this.state.messages).map((function(e){var t=Object(O.a)(e,2),s=t[0],n=t[1];return Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsx)(T.c,{to:"/projects/"+s}),Object(R.jsx)("div",{class:"circle right",children:n})]})})),!this.expanded&&this.currentUser.projects.length>=5?Object(R.jsx)("p",{onClick:function(){return e.setState({expanded:!0})},style:{align:"right"},children:"See more..."}):""]}),Object(R.jsxs)("div",{className:"rowC",children:[Object(R.jsx)("div",{style:{width:"20rem",paddingLeft:"30px"},children:Object(R.jsx)(Pe.a,{placeholder:"Add Tags to improve Search..",onChange:function(t,s){return e.setTags(t,s)},onSearchChange:function(t){return e.onSearchChange(t)},search:!0,fluid:!0,multiple:!0,selection:!0,options:this.state.options,value:this.state.tags})}),Object(R.jsx)("div",{style:{width:"50rem",padding:"0 0 5px 5px"},children:Object(R.jsx)(N,{button:!0,inputValue:this.state.inputValue,searchSimilarProject:this.searchSimilarProject,onChange:this.onInputChange,searchBy:this.state.searchBy})}),Object(R.jsxs)(Y.a,{children:[Object(R.jsx)(Y.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter Search by:"}),Object(R.jsxs)(Y.a.Menu,{children:[Object(R.jsx)(Y.a.Item,{onClick:this.searchByProject,children:"Projects"}),Object(R.jsx)(Y.a.Item,{onClick:this.searchByPeople,children:"People"}),Object(R.jsx)(Y.a.Item,{onClick:this.searchByBoth,children:"Both"})]})]})]})]}),console.log(this.state.userProjects),Object(R.jsx)("ul",{className:"center",children:"project"===this.state.searchBy?this.state.projects.map((function(t){var s,n;return console.log((null===(s=e.state.userProjects)||void 0===s?void 0:s.length)+"Hppjpjp"),(null===(n=e.state.userProjects)||void 0===n?void 0:n.length)>0&&e.state.userProjects.filter((function(e){return t.name===e.name})).length>0?"":e.hasProject(t.name)?Object(R.jsx)(B,{project:t,openProject:function(){return e.openProject(t)},status:"Already Joined",withdraw:e.withdraw,putTag:e.putTag},t.id):e.state.receivedRequests.filter((function(e){return e.request===t.name})).length>0?Object(R.jsx)(B,{project:t,openProject:function(){return e.openProject(t)},status:"Request Sent",cancelRequest:e.cancelRequest,putTag:e.putTag},t.id):t.allowRequest?Object(R.jsx)(B,{project:t,openProject:function(){return e.openProject(t)},sendJoinRequest:e.sendJoinRequest,putTag:e.putTag},t.id):Object(R.jsx)(B,{project:t,openProject:function(){return e.openProject(t)},putTag:e.putTag},t.id)})):this.state.users.map((function(t){return e.hasProject(t.name)&&t.allowRequest,Object(R.jsx)(Ae,{user:t},t.id)}))})]})]})})]}),!0===this.state.projectOpen&&Object(R.jsx)(Te,{name:this.state.project.name,project:this.state.project})]})}}]),s}(j.Component),Ie=(s(794),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(){var e;Object(v.a)(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(y.a)(s,[{key:"openProject",value:function(){this.setState({projectOpen:!0})}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{className:"react-list-select--item",children:Object(R.jsxs)("div",{className:"request-item",children:[Object(R.jsx)("div",{className:"c",style:{width:"18rem"},children:Object(R.jsxs)(P.a,{children:[Object(R.jsxs)(P.a.Body,{children:[Object(R.jsx)("h2",{children:"Raised By You,"}),Object(R.jsx)("h2",{children:"For Project:"}),console.log(this.props.request.request),Object(R.jsx)(T.b,{to:"/projects/".concat(this.props.request.request),children:this.props.request.request})]}),Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsx)("div",{className:"pad",children:Object(R.jsx)(U.a,{onClick:function(){e.props.acceptRequest(e.props.project)},children:"Send Reminder"})}),Object(R.jsx)("div",{className:"pad",children:Object(R.jsx)(U.a,{onClick:function(){e.props.remove(e.props.project)},children:"Withdraw Request"})})]})]})}),Object(R.jsx)("div",{className:"clear"})]})})}}]),s}(j.Component)),Fe=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(){return Object(v.a)(this,s),t.apply(this,arguments)}return Object(y.a)(s,[{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{className:"react-list-select--item",children:Object(R.jsx)("div",{className:"request-item",children:Object(R.jsx)("div",{className:"c",style:{width:"40rem",margin:"10px 500px 0px auto"},children:Object(R.jsxs)(P.a,{children:[Object(R.jsxs)(P.a.Header,{children:[Object(R.jsx)("h2",{children:"Raised By:"}),Object(R.jsx)(T.b,{to:"/user/".concat(this.props.request.user),children:this.props.request.user})]}),Object(R.jsxs)(P.a.Body,{children:[Object(R.jsx)("h2",{children:"For Project:"}),Object(R.jsx)(T.b,{to:"/projects/".concat(this.props.request.request),children:this.props.request.request})]}),this.props.request.message?Object(R.jsxs)(P.a,{children:[Object(R.jsx)(P.a.Header,{children:"Note"}),Object(R.jsx)(P.a.Body,{children:this.props.request.message})]}):"",Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsx)("div",{className:"pad",children:Object(R.jsx)(U.a,{onClick:function(){e.props.accept(e.props.request)},children:"Accept"})}),Object(R.jsx)("div",{className:"pad",children:Object(R.jsx)(U.a,{onClick:function(){e.props.remove(e.props.request)},children:"Decline"})})]})]})})})})}}]),s}(j.Component),Ee=(s(795),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).currentUser={projects:[{name:"collab",detail:"Application for collaborating on projects"}],name:"arpit",description:"MLEng",requests:[{user:"abc",project:"def"}]},n.state={requests:[],filterOption:"project",inputValue:"",allRequests:[]},n.search=n.search.bind(Object(w.a)(n)),n.searchByProject=n.searchByProject.bind(Object(w.a)(n)),n.searchByPeople=n.searchByPeople.bind(Object(w.a)(n)),n.getRequests=n.getRequests.bind(Object(w.a)(n)),n.containsInput=n.containsInput.bind(Object(w.a)(n)),n.getRequests(),n.searchRequests=n.searchRequests.bind(Object(w.a)(n)),n.search=n.search.bind(Object(w.a)(n)),n.declineSelected=n.declineSelected.bind(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"getRequests",value:function(){var e=this;fetch("http://127.0.0.1:8000/user/"+window.currentUser+"/requests").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({requests:e.state.requests.concat(t),allRequests:e.state.allRequests.concat(t)})})),console.log(this.state.requests),this.currentUser.projects.map((function(t){fetch("http://127.0.0.1:8000/project/"+t.name+"/request").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({requests:e.state.requests.concat(t),allRequests:e.state.allRequests.concat(t)})}))}))}},{key:"acceptRequest",value:function(e){fetch("http://127.0.0.1:8000/user/"+e.user+"/requests/"+e.request,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/project/"+e.request+"/user",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.request,user:e.user})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.request,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:"Your request for access to project:"+e.project+" was accepted by"+this.currentUser.name})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))}},{key:"removeRequest",value:function(e){fetch("http://127.0.0.1:8000/user/"+e.user+"/requests/"+e.request,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user+"/requests",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.project})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))}},{key:"declineRequest",value:function(e){fetch("http://127.0.0.1:8000/user/"+e.user+"/notifications",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:"Your request for access to project:"+e.project+" was declined by"+this.currentUser.name})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)})),fetch("http://127.0.0.1:8000/user/"+e.user+"/requests/"+e.request,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.user,project:e.request})}).then((function(e){return console.log(e.status),e.json()})).then((function(e){return console.log(e)}))}},{key:"getTotalRequest",value:function(){return this.state.requests.length}},{key:"reqScore",value:function(e,t){for(var s=e.request.split(" "),n=0;n<s.length;n++)t[s[n].toLowerCase()]>0&&1}},{key:"containsInput",value:function(e){return"project"===this.state.filterOption?e.request.includes(this.state.inputValue):e.user.includes(this.state.inputValue)}},{key:"searchRequests",value:function(){var e=this,t=this.state.inputValue.split(" "),s={};if(t.length<2){console.log(this.state.requests);var n=this.state.allRequests.filter(this.containsInput);this.setState({requests:n})}console.log(this.state.requests);for(var i=0;i<t.length;i++)0===s[t[i].toLowerCase()]&&(s[t[i].toLowerCase()]=s[t[i].toLowerCase()]+1);this.state.requests.sort((function(t,n){return e.reqScore(n,s)-e.reqScore(t,s)}))}},{key:"search",value:function(e){var t=this;this.setState({inputValue:e.target.value},(function(){return t.searchRequests()}))}},{key:"searchByProject",value:function(){this.setState({filterOption:"project"})}},{key:"searchByPeople",value:function(){this.setState({filterOption:"user"})}},{key:"declineSelected",value:function(){var e=this;this.state.requests.map((function(t){e.declineRequest(t)}))}},{key:"showDeclineButton",value:function(){return this.state.requests.length>0?Object(R.jsx)("div",{class:"top-right-element",children:Object(R.jsx)("button",{onClick:this.declineSelected,class:"btn-reject",children:"Decline all Requests"})}):""}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{children:Object(R.jsxs)("div",{className:"project-details",children:[Object(R.jsx)(Q,{notification:!0,request:!0}),this.showDeclineButton(),Object(R.jsxs)("div",{class:"rowC",children:[Object(R.jsx)("div",{style:{width:"40rem",justifyContent:"center",marginLeft:"350px"},children:Object(R.jsx)(N,{inputValue:this.state.inputValue,onChange:function(t){return e.search(t)}})}),Object(R.jsxs)(Y.a,{class:"drpdown",children:[Object(R.jsx)(Y.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Filter by:"}),Object(R.jsxs)(Y.a.Menu,{children:[Object(R.jsx)(Y.a.Item,{onClick:this.searchByProject,children:"Projects"}),Object(R.jsx)(Y.a.Item,{onClick:this.searchByPeople,children:"People"}),Object(R.jsx)(Y.a.Item,{onClick:this.searchByBoth,children:"Both"})]})]})]}),Object(R.jsx)("h1",{children:"Requests received: "}),this.state.requests.map((function(t){if(t.user!==window.currentUser)return Object(R.jsx)(Fe,{request:t,accept:function(t){return e.acceptRequest(t)},decline:function(t){return e.declineRequest(t)}})})),Object(R.jsx)("h1",{children:"Your pending requests: "}),this.state.requests.map((function(t){if(t.user===window.currentUser)return Object(R.jsx)(Ie,{request:t,remove:e.removeRequest})}))]})})}}]),s}(j.Component)),Me=(s(796),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).state={username:"",password:"",name:"",gender:"",errors:[],signUp:!1,email:"",githubId:"",organization:""},n.logInForm=function(){return Object(R.jsxs)("div",{className:"Login",children:[n.state.errors.length>0?Object(R.jsx)(P.a,{style:{background:"pink",borderColor:"red",marginBottom:"20px"},children:n.state.errors[0]}):"",Object(R.jsxs)(P.a,{style:{top:"20%",left:"34%",position:"absolute",background:"white",width:"600px",margin:"auto"},children:[Object(R.jsx)(P.a.Header,{style:{background:"#034afc",borderRadius:"5px"},children:"Sign In to Collab."}),Object(R.jsxs)(S.a,{className:"Login",children:[Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"username",className:"name-input",children:"User Name or Email address:"}),Object(R.jsx)(Oe.a,{onChange:n.handleOnChangeName,type:"text",id:"username",name:"username",placeholder:"write your username"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"password",className:"password",children:"Password:"}),Object(R.jsx)(Oe.a,{onChange:n.handleOnChangePass,type:"password",id:"password",name:"password",placeholder:"write your password"})]}),Object(R.jsx)(k.a,{style:{margin:"20px"},type:"submit",onClick:n.logInSubmitted,children:"Submit"}),Object(R.jsxs)(P.a,{style:{color:"white"},children:["Don't have an account on Collab? ",Object(R.jsx)(T.b,{to:"/signin",onClick:n.signUp,children:"Sign Up"})]})]})]})]})},n.signUpForm=function(){return Object(R.jsx)(P.a,{style:{background:"white"},children:Object(R.jsxs)(S.a,{onChange:n.handleOnChange,className:"sign-up-form",children:[Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"name",className:"name-input",children:"Name: (Your real Name) *"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({name:e.target.value})},type:"text",id:"name",name:"name",placeholder:"write your name"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"Description/Interests",className:"name-input",children:"Description: (Tell us about you and your interests. So that we would match you with people with similar interests.)"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({description:e.target.value})},type:"text",id:"name",name:"name",placeholder:"Tell us about yourself..."})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"E-mail",className:"name-input",children:"E-mail *"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({email:e.target.value})},type:"email",id:"name",name:"name"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"E-mail",className:"name-input",children:"Github Profile"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({githubId:e.target.value})},type:"email",id:"name",name:"name",placeholder:"Your github profile (The shared repos will be created on your github)"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"E-mail",className:"name-input",children:"Organization"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({organization:e.target.value})},type:"email",id:"name",name:"name"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"username",className:"username",children:"User Name (The name that will be used to uniquely identify on Collab.) *"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({username:e.target.value})},type:"text",id:"username",name:"username",className:"username-input",placeholder:"write your username"})]}),Object(R.jsxs)(S.a.Field,{style:{maxWidth:"320px",margin:"0 auto"},children:[Object(R.jsx)("label",{htmlFor:"password",className:"password",children:"Password *"}),Object(R.jsx)(Oe.a,{onChange:function(e){return n.setState({password:e.target.value})},type:"password",id:"password",className:"password-input",name:"password",placeholder:"write your password"})]}),Object(R.jsx)(k.a,{style:{margin:"10px 10px 10px 10px",color:"green"},type:"submit",onClick:n.signUpSubmitted,children:"Create account"})]})})},n.handleOnChangeName=function(e){n.setState({username:e.target.value})},n.handleOnChangePass=function(e){n.setState({password:e.target.value})},n.logInSubmitted=function(e){e.preventDefault(),console.log(n.state.username+" "+n.state.password),fetch("http://127.0.0.1:8000/login/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?(console.log(e),n.setState({errors:n.state.errors.concat(e.error)})):(console.log(e),window.currentUser=e.name,n.props.history.push("/dashboard"))})).catch((function(e){console.log(e)})),n.setState({username:"",password:""})},n.signUpSubmitted=function(e){e.preventDefault(),fetch("http://127.0.0.1:8000/login/",{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n.state.name,descrption:n.state.description,username:n.state.username,password:n.state.password,email:n.state.email,githubId:n.state.githubId})}).then((function(e){return e.json()})).then((function(e){e.errors?n.setState({errors:e.errors}):(window.currentUser=e.name,n.props.history.push("/dashboard"))})).catch((function(e){n.setState({errors:n.state.errors.concat(e)})}))},n.signUp=n.signUp.bind(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"signUp",value:function(){this.setState({signUp:!0})}},{key:"render",value:function(){return Object(R.jsxs)("div",{children:[this.state.errors&&this.state.errors.length>0?Object(R.jsx)("ul",{children:this.state.errors.map((function(e){return Object(R.jsx)("li",{children:e})}))}):null,this.state.signUp?this.signUpForm():this.logInForm()]})}}]),s}(p.a.Component)),Je=Object(m.g)(Me),Le=s(245),Ve=(s(797),Object(xe.a)());document.body.style.background="white";var We=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).fs=new Se.a("fs"),n.pfs=n.fs.promises,n.dir="/newRepo",n.currentUser="Rohit",n.type="radio",n.state={name:"",description:"",inputValue:"",admins:[],projectAdmins:[],tags:[],selectedTags:[],sortedUsers:[],selectedAdmins:[],access:""},n.option_list=[{label:"Swedish",value:"Swedish"},{label:"English",value:"English"}],n.tag_options=[{label:"tag",value:"Machine L"},{tag:"tag",value:"Developer"}],n.options=["abc","def","ghi","ljk"],n.showOptions=n.showOptions.bind(Object(w.a)(n)),n.showTagOptions=n.showTagOptions.bind(Object(w.a)(n)),n.addTags=n.addTags.bind(Object(w.a)(n)),n.manualAddedUser=n.manualAddedUser.bind(Object(w.a)(n)),n.manualAddedTag=n.manualAddedTag.bind(Object(w.a)(n)),n.addadmins=n.addadmins.bind(Object(w.a)(n)),n.createRepo=n.createRepo.bind(Object(w.a)(n)),console.log(window),window.dir="/newRepo",n.gitSetup=n.gitSetup.bind(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"gitSetup",value:function(){var e=Object(F.a)(I.a.mark((function e(){var t,s,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fs,s=this.pfs,n=this.dir,e.next=5,Ce.a.init({fs:t,dir:"/newRepo"});case 5:return e.next=7,s.writeFile("".concat(this.dir,"/README.md"),"Very short README","utf8");case 7:return e.next=9,Ce.a.add({fs:t,dir:n,filepath:"README.md"});case 9:return e.next=11,Ce.a.commit({fs:t,dir:"/newRepo",message:"First commit",author:{name:"Mr. Test",email:"mrtest@example.com"}});case 11:return e.next=13,Ce.a.push({fs:t,http:we.a,dir:n,corsProxy:"https://cors.isomorphic-git.org",url:"https://github.com/arpit196/".concat(this.state.name),ref:"master",onAuth:function(){return{oauth2format:"github",token:"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"}}});case 13:i=e.sent,console.log(i);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createRepo",value:function(){var e=Object(F.a)(I.a.mark((function e(){var t,s=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(window.currentUser),fetch("http://127.0.0.1:8000/wel/",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({name:this.state.name,detail:this.state.description,users:this.state.projectAdmins,tags:this.state.tags})}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),s.setState({user:e[0]},console.log(s.state.user))})),fetch("http://127.0.0.1:8000/project/"+this.state.name+"/user",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({project:this.state.name})}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),s.setState({user:e[0]},console.log(s.state.user))})),fetch("http://127.0.0.1:8000/user/"+window.currentUser,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({project:this.state.name,description:this.state.description})}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),s.setState({user:e[0]},console.log(s.state.user))})),this.props.history.push("/projects/"+this.state.name),this.gitSetup(),(t=new FormData).append("owner",window.currentUser),t.append("repository[name]",this.state.name),t.append("repository[description]",this.state.description),t.append("repository[public]","public"),fetch("https://cors.isomorphic-git.org/https://github.com/arpit196/repositories",{method:"POST",withCredentials:!0,headers:{"Access-Control-Allow-Credentials":!0,"X-Requested-With":"XMLHttpRequest",Authorization:"Basic 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",Host:"",cookie:"_ga=GA1.2.1285390325.1564056732; _octo=GH1.1.609744496.1564056732; _device_id=c01b9f8b71d2dfa75c1f8da2d6a983f0; user_session=i1NVGEWbKwpWgeg597R2UKilDsYNqsBWK4Mp5CxeCCsbx6MD; __Host-user_session_same_site=i1NVGEWbKwpWgeg597R2UKilDsYNqsBWK4Mp5CxeCCsbx6MD; logged_in=yes; dotcom_user=arpit196; color_mode=%7B%22color_mode%22%3A%22auto%22%2C%22light_theme%22%3A%7B%22name%22%3A%22light%22%2C%22color_mode%22%3A%22light%22%7D%2C%22dark_theme%22%3A%7B%22name%22%3A%22dark%22%2C%22color_mode%22%3A%22dark%22%7D%7D; tz=Asia%2FCalcutta; has_recent_activity=1; _gh_sess=Z4ZXz%2F3zVLFH74gwlCl9uS57K630jncFQfGftJPeF6TQXV3NRH%2BWoMJtxPG6ooiIrjoWVMjVrWR3RN6UgXDNgS8oCSfs8sEhoVDCJ%2BEQVUicPxN4S4ayMb1lu7%2FUATZtUEia06LVklqpAlUVJP997VviPrN47%2F04iOlPe18ZENeQ%2FdXhUraOWmOtYnX11MBoB04eFd3bYdq5hN98h3CjOZlujBEu1aYpo1Vxl8B9SUJmylRS2hN3uKsJ7vPfxhOL4jQhFtLYRuShnkwSH1EKgNt0zEsxb4fmCiVwo%2BH53UuDPIpAkk9as67AKT7n4QpnugcvQ01AW62IHP%2BqITYi2ytNwaPW5fM49e7ehEODwNUm7U%2BFXhmmQBzXjSDQTQ2%2FIG98sd0GwQdIRVr%2FRU4rTreTAGtyaBk4McRr%2FxH0kOezmBB35xHdQHMablpzV8vRwD1g%2BfN875hAvUsJviJwBLoPmT%2Byv8abZm6mfcgJADnrQ1RI60%2FmzWuvm4ZEZGlQu8pStkOIG75vGefszVIEBqivE22W7pBl%2BW%2FKFcyqlOeYM5XgGLNoQNAMyvhBMsdwx1EK0rTamjfJljKHk%2BmCTd0cgwK5N%2BsjSItvMnf0qW43fXbTyUzBvLt6FJ0%2Bgf6qS2%2FZA62eNBZIxa0R67xhLpun1a6WHN%2BtyuSEzvT3NyG1goaiWMD%2B6Jqq940tnMXxqzU7gg%3D%3D--jz5%2F%2FPSb1YCuQmF6--qgD8LxRUM8sa%2Fk7wF7Ic3g%3D%3D"},body:t});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateSimilarity",value:function(e,t,s){return 0}},{key:"changeAccess",value:function(e){this.setState({access:e})}},{key:"showSimilarUsers",value:function(){var e=this;return fetch("http://127.0.0.1:8000/users/"),[].then((function(e){return console.log(e.status),e.json()})).then((function(t){var s=[];return t.map((function(t){var n=0;t.projects.map((function(t){return n+=e.calculateSimilarity(t,e.state.selectedTags,e.state.description),0})),s.concat({user:t.name,score:n})})),s.sort((function(e,t){return e.score>t.score})),e.state.setState({sortedUsers:s}),s}))}},{key:"onSearchEnter",value:function(e){e.persist(),console.log(e),13===e.charCode?(this.setState({admins:this.state.admins.concat(e.target.value)}),e.target.value=this.state.admins):this.setState({inputValue:e.target.value+String.fromCharCode(e.charCode)}),console.log(this.state.admins)}},{key:"addadmins",value:function(){var e=this;console.log(this.state.selectedAdmins),this.state.selectedAdmins.forEach((function(t){-1===e.state.projectAdmins.indexOf(t)&&e.setState({projectAdmins:e.state.projectAdmins.concat({name:t.value,description:t.value})})})),console.log(this.state.projectAdmins)}},{key:"showOptions",value:function(e){console.log(e),this.setState({admins:e,selectedAdmins:e})}},{key:"deleteTag",value:function(e){this.state.selectedTags.splice(this.state.tags.indexOf(e))}},{key:"showTagOptions",value:function(e){this.setState({selectedTags:e})}},{key:"setRepoName",value:function(e){this.setState({name:e.target.value})}},{key:"addTags",value:function(){this.setState({tags:this.state.tags.concat(this.state.selectedTags.map((function(e){return{tagName:e.value}})))})}},{key:"addAdmin",value:function(e){var t=this;e.preventDefault(),console.log(e),13===e.charCode?this.setState({admins:this.state.admins.concat(e.target.value),inputValue:""}):(this.setState({inputValue:this.state.inputValue+String.fromCharCode(e.charCode)}),this.option_list.map((function(e){-1===e.name.indexOf(t.state.inputValue)&&""!==t.state.inputValue||(t.options=t.options.concat(e))}))),console.log(this.state.admins)}},{key:"manualAddedUser",value:function(e){if(console.log(e),e.endsWith(" ")){for(var t=0;t<this.options.length;t++);this.setState({selectedAdmins:this.state.selectedAdmins.concat({label:e,value:e})})}}},{key:"manualAddedTag",value:function(e){if(e.endsWith(" ")){for(var t=0;t<this.options.length;t++);this.setState({selectedTags:this.state.selectedTags.concat({label:e,value:e})})}}},{key:"deleteAdmin",value:function(e){this.setState({projectAdmins:this.state.projectAdmins.filter((function(t){return t!==e}))})}},{key:"setRepoDesc",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{style:{color:"black",backgroundColor:"white"},children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium",fontWeight:"600"},children:Object(R.jsx)(Q,{notification:!0,request:!0,notifications:this.state.notifications})}),Object(R.jsx)("h1",{children:"Create a new Repository"}),Object(R.jsxs)(S.a,{children:[Object(R.jsxs)(S.a.Field,{children:[Object(R.jsx)("label",{style:{textAlign:"center"},children:"Users"}),Object(R.jsx)("div",{style:{display:"flex",margin:"auto",justifyContent:"center"},children:Object(R.jsx)(Le.a,{style:{width:"800px",padding:"10px 10px 0 0"},closeMenuOnSelect:!1,components:Ve,isMulti:!0,options:this.option_list,onChange:this.showOptions,onInputChange:function(t){return e.manualAddedUser(t)},value:this.state.selectedAdmins})}),Object(R.jsx)(U.a,{style:{marginTop:"8px"},onClick:this.addadmins,children:"Add users"}),Object(R.jsx)("div",{class:"rowC",children:this.state.projectAdmins.map((function(t){return Object(R.jsx)(ye,{style:{display:"flex",margin:"auto",justifyContent:"center"},deleteTags:function(){return e.deleteAdmin(t)},name:t.name,delete:!0})}))})]}),Object(R.jsxs)(S.a.Field,{style:{width:"800px",margin:"auto"},children:[Object(R.jsx)("label",{children:"Repository Name"}),Object(R.jsx)("input",{onKeyPress:function(t){return e.setRepoName(t)},placeholder:"Repository Name..."})]}),Object(R.jsxs)(S.a.Field,{style:{width:"800px",margin:"auto"},children:[Object(R.jsx)("label",{children:"Description (Optional)"}),Object(R.jsx)("input",{onKeyPress:function(t){return e.setRepoDesc(t)},placeholder:"Repository Description..."})]}),Object(R.jsxs)(S.a.Field,{children:[Object(R.jsx)("label",{style:{textAlign:"center"},children:"Add Tags to your project (optional)"}),this.state.selectedTags.map((function(t){return Object(R.jsx)(ye,{name:t.value,close:e.deleteTag})})),Object(R.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(R.jsx)(Le.a,{style:{width:"800px",padding:"10px"},closeMenuOnSelect:!1,components:Ve,isMulti:!0,options:this.tag_options,onChange:this.showTagOptions,onInputChange:function(t){return e.manualAddedTag(t)},value:this.state.selectedTags})}),Object(R.jsx)(U.a,{style:{marginTop:"8px"},onClick:this.addTags,children:"Add Tags"})]}),Object(R.jsx)(S.a.Field,{children:this.state.name.split().length>3?Object(R.jsxs)("div",{children:[Object(R.jsx)("label",{children:"Users working on similar project"}),Object(R.jsx)("div",{style:{display:"flex",justifyContent:"center"}})]}):""}),Object(R.jsx)(he.a.Label,{children:"Set Access level to your Repositories"}),Object(R.jsx)(he.a.Check,{style:{color:"black"},name:"access",type:this.type,id:"default-".concat(this.type),label:"Myself",onChange:function(){return e.changeAccess("private")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"Anyone on Collaborate",onChange:function(){return e.changeAccess("all")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"People from my Organization",onChange:function(){return e.changeAccess("organization")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"Connected to me",onChange:function(){return e.changeAccess("connections")}}),Object(R.jsx)(S.a.Button,{onClick:this.createRepo,children:"Create Repository"})]})]})}}]),s}(j.Component),He=Object(m.g)(We),ze=(s(806),function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).type="radio",n.currentUser="arpit",n.state={name:"",access:"all"},n}return Object(y.a)(s,[{key:"changeAccess",value:function(e){this.setState({access:e})}},{key:"changeProfile",value:function(){fetch("http://127.0.0.1:8000/user/"+this.currentUser,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({access:this.state.access,name:this.state.name})}).then((function(e){return e.json()}))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium"},children:Object(R.jsx)(Q,{notification:!0,request:!0,notifications:["0"]})}),Object(R.jsxs)(he.a,{style:{width:"300px",margin:"auto",textAlign:"left"},children:[Object(R.jsxs)(he.a.Group,{children:[Object(R.jsx)(he.a.Label,{children:"Name"}),Object(R.jsx)(he.a.Control,{onChange:this.changeName,type:"name",placeholder:""}),Object(R.jsx)(he.a.Text,{className:"text-muted",children:"Your username as it will appear around Collaborate."})]}),Object(R.jsx)(he.a.Label,{children:"Set Access level to your Repositories"}),Object(R.jsx)(he.a.Check,{style:{color:"black"},name:"access",type:this.type,id:"default-".concat(this.type),label:"Myself",onChange:function(){return e.changeAccess("private")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"Anyone on Collaborate",onChange:function(){return e.changeAccess("all")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"People from my Organization",onChange:function(){return e.changeAccess("organization")}}),Object(R.jsx)(he.a.Check,{name:"access",type:this.type,id:"default-".concat(this.type),label:"Connected to me",onChange:function(){return e.changeAccess("connections")}}),Object(R.jsx)(U.a,{onClick:this.changeProfile,children:"Update Profile"})]})]})}}]),s}(j.Component)),_e=function(e){Object(C.a)(s,e);var t=Object(q.a)(s);function s(e){var n;return Object(v.a)(this,s),(n=t.call(this,e)).currentUser="arpit",n.state={notifications:[],project:{}},n.openProject=n.openProject.bind(Object(w.a)(n)),je()(Object(w.a)(n)),n}return Object(y.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://127.0.0.1:8000/users/"+this.currentUser+"/notifications").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({notifications:t})}))}},{key:"openProject",value:function(e){this.setState({project:e})}},{key:"render",value:function(){return Object(R.jsx)("div",{children:Object(R.jsxs)("div",{className:"project-details",children:[Object(R.jsx)("div",{style:{color:"white",fontSize:"medium"},children:Object(R.jsx)(Q,{notification:!0,request:!0,notifications:this.state.notifications})}),this.state.notifications.map((function(e){P.a,P.a.Body,e.project&&(R.Fragment,T.b,e.user,e.user,T.b,e.project,U.a,U.a),e.discussion&&(R.Fragment,T.b,e.project,T.b,e.user)}))]})})}}]),s}(j.Component),Ge=s(300),Ye=s.n(Ge);Ye.a.defaults.xsrfCookieName="csrftoken",Ye.a.defaults.xsrfHeaderName="X-CSRFToken";var Ke=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)(m.c,{children:[Object(R.jsx)(m.a,{exact:!0,path:"/dashboard",render:function(e){return Object(R.jsx)(De,{})}}),Object(R.jsx)(m.a,{exact:!0,path:"/signin",render:function(e){return Object(R.jsx)(Je,{})}}),Object(R.jsx)(m.a,{exact:!0,path:"/requests",render:function(e){return Object(R.jsx)(Ee,{})}}),Object(R.jsx)(m.a,{path:"/projects/:name",render:function(e){return Object(R.jsx)(Te,{name:e.match.params.name})}}),Object(R.jsx)(m.a,{path:"/user/:name",render:function(e){return Object(R.jsx)(oe,Object(g.a)({},e))}}),Object(R.jsx)(m.a,{path:"/repository",render:function(e){return Object(R.jsx)(He,{})}}),Object(R.jsx)(m.a,{path:"/settings",render:function(e){return Object(R.jsx)(ze,{})}}),Object(R.jsx)(m.a,{path:"/user/:name",render:function(e){return Object(R.jsx)(oe,{})}}),Object(R.jsx)(m.a,{path:"/notifications",render:function(e){return Object(R.jsx)(_e,{})}})]})})},Xe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,853)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;s(e),n(e),i(e),r(e),o(e)}))};document.body.style.background="#282c34",f.a.render(Object(R.jsx)(T.a,{children:Object(R.jsx)(Ke,{})}),document.getElementById("root")),Xe()},86:function(e,t,s){}},[[825,1,2]]]);
//# sourceMappingURL=main.6583e398.chunk.js.map